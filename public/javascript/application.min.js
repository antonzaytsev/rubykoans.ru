function iPhone(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)}
(function(a){a.fn.boldSelectedElement=function(b){a(this).css("font-weight","normal").eq(b).css("font-weight","bold")};a.fn.highlightVisibleAnchor=function(){function b(c){for(var i=a(window).scrollTop(),d=0,g=false;!g;){d++;if(c[d-1]>i){d=1;g=true}else if(d>c[c.length-1]){d=c.length;g=true}else g=c[d-1]<=i&&i<c[d]}return d-1}var e=a(this),h=e.map(function(){return a(this).attr("href")}),f=a.map(h,function(c){return a(c).offset().top});a(this).boldSelectedElement(b(f));a(window).scroll(function(){e.boldSelectedElement(b(f))})};
a.fn.scrollToAnchor=function(){return this.click(function(b){if(!iPhone()){b.preventDefault();b=a(a(this).attr("href")).offset().top;a("html,body").animate({scrollTop:b})}})};a(function(){a("#sidebar ol a").scrollToAnchor().highlightVisibleAnchor();var b=a("#sidebar").offset().top;a(window).scroll(function(){a(this).scrollTop()>70?a("#sidebar").css("position","fixed").css("top","-40px"):a("#sidebar").css("position","absolute").css("top",b)});a(".email_address").each(function(){var f=a(this).text().replace(" [at] ",
"@").replace(" [dot] ",".");f='<a href="mailto:'+f+'">'+f+"</a>";a(this).replaceWith(f)});var e=a("#edgecase_bw");e.before("<img src='/images/edgecase_logo.gif' id='edgecase_color' alt='EdgeCase'>");a("#edgecase_logo").hover(function(){e.stop().fadeOut(200)},function(){e.stop().fadeIn(200)});var h=document.getElementById("edgecase_logo");h.ontouchstart=function(){e.stop().fadeOut(200)};h.ontouchend=function(){e.stop().fadeIn(200)}})})(jQuery);

